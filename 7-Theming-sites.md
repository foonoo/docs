---
title: Theming Sites
---
# Theming Sites

Themes define the overall look of a site. They work through templates which specify the HTML code, stylesheets which define the site's looks, JavaScripts which provide extra smarts interactivity, as well as image and other files web-browsers can meaningfully use. Essentially, the template engine allows you to consistently control every aspect of your site's appearance. 

Foonoo's theming system consists an asset pipeline for compiling assets, like stylesheets, scripts and images, and a templating system for injecting content into HTML (and other text) files.

## Defining a site's looks
In general, there are two ways to customize the look of a foonoo site. The simplest approach is to tweak an existing theme. This can be done by augmenting its stylesheets, overriding its templates templates, or modifying other asset files like images and scripts. The other approach, which offers better customizability, is to create new themes from scratch. 

For the rest of this chapter, we will briefly look at both approaches to styling and theming foonoo sites. Before we go through these approaches, however, it will be worth taking some time to look at foonoo's asset pipeline and its templating engine.


## Template Engine
In foonoo, templates define the HTML code themes generate by supplying partial code that have gaps to be filled in with information later. Templating in foonoo is achieved through an interface that allows different templating languages to be transparently used. By default, foonoo supports templates written in either pure PHP, Mustache, or Smarty. 

### Finding Templates
A key component of the template engine is 
The template hierarchy for resolving any foonoo template is somewhat fixed, and it's defined as follows in decreasing order of search priority:

- Templates in the `_foonoo/templates` directory are searched and applied first. These templates will typically be supplied by the person building the site, and they carry the highest priority to override any other templates.
- Next templates in special template paths supplied through the `templates` configuration of the `site.yml` file are searched. These templates can also be supplied by the site designer, and they are useful when you want to add your own templates outside the `_foonoo` directory.
- Afterwards, templates from the current active theme are searched. These templates are supplied by theme designers and are part of the current theme in use. Most template requests are expected to resolve here.
- Finally, the last place searched contains the built in templates for foonoo's tag parser. These templates are built into foonoo and they are meant to provide the templates for the HTML code generated by the tag parser (for things like links and images). 

So, now that we know how to find templates, how do we override them? Well, it's quite simple: the actual templates available at any time are mainly defined by the active theme and foonoo's tag parser. To override those, you best option will be to create your own templates and place them in the `_foonoo/templates` directory.

### Overriding the Layout wrapper for the default theme
As an example, let's override the layout of the Ashes theme. To do this, you could create a `layout.tplphp` file and place it into the `_foonoo/templates` directory. This template is required by Ashes to wrap all rendered content. A PHP variable named `$body`, which contains the rendered HTML for any content, is exposed to the layout. You can put the following code into the `layout.tplphp` file:

````php
<html>
	<head><title>Some Title Site!</title></head>
	<body>
		<h1>Some Title Site</h1>
		<hr/>
		<?= $body ?>
	</body>
</html>
````

Now, if you go ahead and place this `layout.tplphp` file into the `_foonoo/templates` directory of our earlier [[example|Introduction]], you should have the following output:

[[The site after the layout code above has been applied|hello_layout_screenshot.png|figure="frame"]]

Neat! Right? Well, if you look carefully you should realize a big problem. Compared to the earlier example, this output is devoid of any styling, and rightfully so, because all the styling is supplied by Ashes whose template we just overrode. But even more prominently, you should notice that only the raw HTML code was output. This is because the HTML code for the content has been escaped by the template engine. To fix this escaping, you can go ahead and use the following layout code, which has the content unescaped by changing `$body` to `$body->u()`. 

````php
<html>
	<head><title>Some Title Site!</title></head>
	<body>
		<h1>Some Title Site</h1>
		<hr/>
		<?= $body->u() ?>
	</body>
</html>
````

And this should now be properly rendered as:

[[A properly rendered output from the custom template|hello_improved_layout_screenshot.png|frame="figure"]]

We just overrode the layout! The default site builder has several other templates we can override. Heck, we can also define our own templates to be used within our overridden template. The possibilities for extending the look of your foonoo sites are endless.




## TODO

 - [ ] Don't forget to add references here to overriding templates for the tag parser.